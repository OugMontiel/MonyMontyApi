# ğŸ“š DocumentaciÃ³n API Mony Monty

## IntroducciÃ³n

Bienvenido a la documentaciÃ³n oficial de la API **Mony Monty**, una plataforma diseÃ±ada para gestionar usuarios, finanzas y otros servicios
asociados a la administraciÃ³n financiera personal .

Esta API estÃ¡ construida para facilitar la interacciÃ³n con el backend mediante endpoints RESTful que permiten crear, consultar, actualizar y
eliminar recursos.

## Estructura General

La API se organiza en diferentes mÃ³dulos, cada uno con sus propios endpoints y funcionalidades especÃ­ficas. Entre los mÃ³dulos principales se
encuentran:

- **Usuarios:** GestiÃ³n completa de usuarios, incluyendo registro, consulta, actualizaciÃ³n y eliminaciÃ³n.

## CÃ³mo usar esta documentaciÃ³n

- Cada mÃ³dulo contiene una lista de endpoints con sus respectivas descripciones, mÃ©todos HTTP, parÃ¡metros requeridos y ejemplos de
  solicitudes y respuestas.
- Presta atenciÃ³n a las validaciones y formatos de datos para garantizar el correcto funcionamiento de cada llamada.
- Para autenticarte y acceder a endpoints protegidos, utiliza los tokens o credenciales que se indiquen en la secciÃ³n correspondiente.

## ğŸ› ï¸ InformaciÃ³n tÃ©cnica

Esta API estÃ¡ desarrollada utilizando **Node.js v22.15.0**, una versiÃ³n reciente que aprovecha mejoras en rendimiento y seguridad. AsegÃºrate
de tener esta versiÃ³n (o superior compatible) instalada para evitar errores de compatibilidad.

### ğŸ”§ Requisitos previos

- Tener instalado [Node.js v22.15.0](https://nodejs.org) o una versiÃ³n compatible.
- Tener instalado [npm](https://www.npmjs.com/) (v10 o superior recomendado, se instala junto con Node.js).

### ğŸš€ InstalaciÃ³n y ejecuciÃ³n en entorno local

Para ejecutar el proyecto localmente, sigue estos pasos desde la raÃ­z del repositorio:

```bash
# Instala las dependencias del proyecto
npm install

# Ejecuta el servidor en modo desarrollo (usa nodemon si estÃ¡ configurado)
npm run dev
```

Una vez iniciado el servidor, la API estarÃ¡ disponible en:

```
http://localhost:3000
```

### ğŸ”„ Formato de datos

- Los datos se intercambian en formato **JSON**.
- Para todas las operaciones de escritura (`POST`, `PUT`, `DELETE`), asegÃºrate de incluir el encabezado:

  ```
  Content-Type: application/json
  ```

### âœ… Respuestas de la API

- La API utiliza **cÃ³digos de estado HTTP estÃ¡ndar** para indicar el resultado de las operaciones (ej. `200 OK`, `201 Created`,
  `204 No Content`, `400 Bad Request`, `401 Unauthorized`, `404 Not Found`, etc.).
- Las respuestas incluyen, cuando aplica, un mensaje descriptivo o datos relevantes del recurso afectado.

## MÃ³dulo Usuarios

AquÃ­ encontrarÃ¡s los endpoints para:

### ğŸš€ Crear usuario

- **ğŸ“ URL del endpoint:** `http://localhost:3000/user/`

- **ğŸ§¾ MÃ©todo HTTP:** `POST`

- **ğŸ“¦ Cuerpo de la solicitud (JSON):**

```json
{
  "nombre": "Diego Montiel",
  "email": "prueba@prueba.com",
  "password": "123456789"
}
```

- **ğŸ“ DescripciÃ³n:** Registra un nuevo usuario en el sistema. Los datos deben enviarse en formato JSON a travÃ©s de un mÃ©todo `POST`.

### ğŸ” Consultar usuario por ID

- **ğŸ“ URL del endpoint:** `http://localhost:3000/user/{id}` _Reemplaza `{id}` por el ID vÃ¡lido del usuario (ejemplo:
  `6842fbf0bac8bf1ebaca56ca`)._

- **ğŸ§¾ MÃ©todo HTTP:** `GET`

- **ğŸ“¦ Cuerpo de la solicitud:** No se requiere body.

- **ğŸ“ DescripciÃ³n:** Obtiene la informaciÃ³n de un usuario especÃ­fico usando su ID. El ID debe ser un `ObjectId` vÃ¡lido de MongoDB.

### âœï¸ Actualizar usuario

- **ğŸ“ URL del endpoint:** `http://localhost:3000/user/{id}` _Reemplaza `{id}` por el ID vÃ¡lido del usuario (ejemplo:
  `6843114a928b3f3d4b5f6da9`)._

- **ğŸ§¾ MÃ©todo HTTP:** `PUT`

- **ğŸ“¦ Cuerpo de la solicitud (JSON):**

```json
{
  "nombre": "Cambio Dos",
  "email": "prueba@prueba.com",
  "password": "123456789"
}
```

- **ğŸ“ DescripciÃ³n:** Actualiza los datos de un usuario existente identificado por su ID. Los datos modificados se envÃ­an en el cuerpo de la
  solicitud en formato JSON usando el mÃ©todo `PUT`.

- **ğŸ“¤ Respuesta exitosa (JSON):**

```json
{
  "acknowledged": true,
  "modifiedCount": 1,
  "upsertedId": null,
  "upsertedCount": 0,
  "matchedCount": 1
}
```

- **ğŸ“ Notas:**

  - `modifiedCount` indica cuÃ¡ntos documentos fueron realmente modificados.
  - `matchedCount` muestra cuÃ¡ntos documentos coincidieron con el ID proporcionado.
  - Si `modifiedCount` es 0, el usuario pudo no haber sido modificado porque los datos enviados son iguales a los actuales.

### ğŸ—‘ï¸ Eliminar usuario

- **ğŸ“ URL del endpoint:** `http://localhost:3000/user/{id}` _Reemplaza `{id}` por el ID vÃ¡lido del usuario a eliminar (ejemplo:
  `684318f26166601f0b5d115b`)._

- **ğŸ§¾ MÃ©todo HTTP:** `DELETE`

- **ğŸ“¦ Cuerpo de la solicitud:** No se requiere body.

- **ğŸ“ DescripciÃ³n:** Elimina un usuario existente identificado por su ID. La solicitud no debe incluir ningÃºn dato adicional en el cuerpo
  ni en la URL (excepto el ID).

- **ğŸ“¤ Respuesta exitosa:** CÃ³digo HTTP `204 No Content` indicando que la eliminaciÃ³n fue exitosa y que no se devuelve contenido en la
  respuesta.

## MÃ³dulo de Auth

AquÃ­ encontrarÃ¡s los endpoints para:

### âœ… Verificar autenticaciÃ³n

- **ğŸ“ URL del endpoint:** `http://localhost:3000/auth/check`

- **ğŸ§¾ MÃ©todo HTTP:** `GET`

- **ğŸ“¦ Cuerpo de la solicitud:** No se requiere body, pero se debe enviar el token en los encabezados (`Authorization: Bearer <token>`).

- **ğŸ“ DescripciÃ³n:** Verifica si el usuario estÃ¡ autenticado. Retorna el mismo token junto con el estado de autenticaciÃ³n.

- **ğŸ“¤ Respuesta exitosa (200 OK):**

  ```json
  {
    "authenticated": true,
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
  ```

### ğŸ” Iniciar sesiÃ³n

- **ğŸ“ URL del endpoint:** `http://localhost:3000/auth/login`

- **ğŸ§¾ MÃ©todo HTTP:** `POST`

- **ğŸ“¦ Cuerpo de la solicitud (JSON):**

  ```json
  {
    "email": "prueba@casa.com",
    "password": "123456789"
  }
  ```

- **ğŸ“ DescripciÃ³n:** Autentica al usuario con su correo y contraseÃ±a. Si las credenciales son correctas, responde con un token JWT vÃ¡lido.

- **ğŸ“¤ Respuesta exitosa (200 OK):**

  ```json
  {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
  ```
